version: '3.8'
services:
  app:
    build: ./app
    ports:
      - '5000:5000'
    environment:
      - FLASK_ENV=production
      - AWS_DEFAULT_REGION=us-east-1
    healthcheck:
      test: ['CMD', 'curl', '-f', 'http://localhost:5000/health']
      interval: 30s
      retries: 3
